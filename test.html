<!DOCTYPE html>
<html>
<head>
    <title>Webhook Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        button { margin: 10px; padding: 10px; }
        pre { background: #f0f0f0; padding: 10px; }
    </style>
</head>
<body>
    <h1>FACEIT Webhook Test</h1>
    
    <h2>Match Webhook Test</h2>
    <button onclick="testMatchWebhook()">Test Match Webhook</button>
    <pre id="matchResult"></pre>

    <h2>Chat Webhook Test</h2>
    <button onclick="testChatWebhook()">Test Chat Webhook</button>
    <pre id="chatResult"></pre>

    <script>
        async function testMatchWebhook() {
            const url = 'https://faceit-bot-test-ae3e65bcedb3.herokuapp.com/webhook/match?secret=faceit-webhook-secret-123';
            const data = {
                event: 'match_status_ready',
                payload: {
                    id: 'test-match-123',
                    status: 'READY'
                }
            };
            
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'x-webhook-secret': 'faceit-webhook-secret-123'
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                document.getElementById('matchResult').textContent = JSON.stringify(result, null, 2);
            } catch (error) {
                document.getElementById('matchResult').textContent = 'Error: ' + error.message;
            }
        }

        async function testChatWebhook() {
            const url = 'https://faceit-bot-test-ae3e65bcedb3.herokuapp.com/webhook/chat?secret=faceit-webhook-secret-123';
            const data = {
                payload: {
                    match_id: 'test-match-123',
                    user_id: 'test-user-123',
                    message: {
                        text: '!test'
                    }
                }
            };
            
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'x-webhook-secret': 'faceit-webhook-secret-123'
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                document.getElementById('chatResult').textContent = JSON.stringify(result, null, 2);
            } catch (error) {
                document.getElementById('chatResult').textContent = 'Error: ' + error.message;
            }
        }
    </script>
</body>
</html>
